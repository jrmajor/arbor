CREATE TABLE `migrations` (`id` integer primary key auto_increment not null, `migration` varchar not null, `batch` integer not null);
CREATE TABLE `users` (`id` integer primary key auto_increment not null, `username` varchar not null, `email` varchar, `password` varchar not null, `permissions` integer not null default '0', `remember_token` varchar, `created_at` datetime, `updated_at` datetime, `deleted_at` datetime);
CREATE TABLE `password_reset_tokens` (`email` varchar not null, `token` varchar not null, `created_at` datetime);
CREATE TABLE `telescope_entries` (`sequence` integer primary key auto_increment not null, `uuid` varchar not null, `batch_id` varchar not null, `family_hash` varchar, `should_display_on_index` tinyint(1) not null default '1', `type` varchar not null, `content` text not null, `created_at` datetime);
CREATE TABLE `telescope_entries_tags` (`entry_uuid` varchar not null, `tag` varchar not null, foreign key(`entry_uuid`) references `telescope_entries`(`uuid`) on delete cascade, primary key (`entry_uuid`, `tag`));
CREATE TABLE `telescope_monitoring` (`tag` varchar not null, primary key (`tag`));
CREATE TABLE `failed_jobs` (`id` integer primary key auto_increment not null, `connection` text not null, `queue` text not null, `payload` text not null, `exception` text not null, `failed_at` datetime not null default CURRENT_TIMESTAMP);
CREATE TABLE `activity_log` (`id` integer primary key auto_increment not null, `log_name` varchar, `description` text not null, `subject_id` integer, `subject_type` varchar, `causer_id` integer, `causer_type` varchar, `properties` text, `created_at` datetime, `updated_at` datetime, `event` varchar, `batch_uuid` varchar);
CREATE TABLE `people` (id INTEGER PRIMARY KEY auto_increment NOT NULL, mother_id INTEGER DEFAULT NULL, father_id INTEGER DEFAULT NULL, id_wielcy VARCHAR(255) DEFAULT NULL, id_pytlewski INTEGER DEFAULT NULL, sex VARCHAR(255) DEFAULT NULL, name VARCHAR(255) NOT NULL, middle_name VARCHAR(255) DEFAULT NULL, family_name VARCHAR(255) NOT NULL, last_name VARCHAR(255) DEFAULT NULL, birth_place VARCHAR(255) DEFAULT NULL, dead BOOLEAN DEFAULT 0 NOT NULL, death_place VARCHAR(255) DEFAULT NULL, death_cause VARCHAR(255) DEFAULT NULL, funeral_place VARCHAR(255) DEFAULT NULL, burial_place VARCHAR(255) DEFAULT NULL, visibility BOOLEAN DEFAULT 0 NOT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, deleted_at DATETIME DEFAULT NULL, birth_date_from DATE DEFAULT NULL, birth_date_to DATE DEFAULT NULL, death_date_from DATE DEFAULT NULL, death_date_to DATE DEFAULT NULL, funeral_date_from DATE DEFAULT NULL, funeral_date_to DATE DEFAULT NULL, burial_date_from DATE DEFAULT NULL, burial_date_to DATE DEFAULT NULL, `sources` text, `biography` varchar, FOREIGN KEY (mother_id) REFERENCES people (id) ON UPDATE NO ACTION ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE, FOREIGN KEY (father_id) REFERENCES people (id) ON UPDATE NO ACTION ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE);
CREATE TABLE `marriages` (id INTEGER PRIMARY KEY auto_increment NOT NULL, woman_id INTEGER NOT NULL, woman_order INTEGER DEFAULT NULL, man_id INTEGER NOT NULL, man_order INTEGER DEFAULT NULL, rite VARCHAR(255) DEFAULT NULL, first_event_type VARCHAR(255) DEFAULT NULL, first_event_place VARCHAR(255) DEFAULT NULL, second_event_type VARCHAR(255) DEFAULT NULL, second_event_place VARCHAR(255) DEFAULT NULL, divorced BOOLEAN DEFAULT 0 NOT NULL, created_at DATETIME DEFAULT NULL, updated_at DATETIME DEFAULT NULL, deleted_at DATETIME DEFAULT NULL, first_event_date_from DATE DEFAULT NULL, first_event_date_to DATE DEFAULT NULL, second_event_date_from DATE DEFAULT NULL, second_event_date_to DATE DEFAULT NULL, divorce_date_from DATE DEFAULT NULL, divorce_date_to DATE DEFAULT NULL, divorce_place VARCHAR(255) DEFAULT NULL);
